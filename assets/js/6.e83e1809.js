(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{250:function(e,t,s){"use strict";s.r(t);var a=s(28),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"commit规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#commit规范"}},[e._v("#")]),e._v(" Commit规范")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/Tencent/wepy/blob/2.0.x/CONTRIBUTING_COMMIT.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("本规范来源"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("在对项目作出更改后，我们需要生成 commit 来记录自己的更改。以下是参照 Angular 对 commit 格式的规范：")]),e._v(" "),s("h2",{attrs:{id:"格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#格式"}},[e._v("#")]),e._v(" 格式")]),e._v(" "),s("p",[e._v("提交信息包括三个部分："),s("code",[e._v("Header")]),e._v("，"),s("code",[e._v("Body")]),e._v(" 和 "),s("code",[e._v("Footer")]),e._v("。")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("<Header>\n\n<Body>\n\n<Footer>\n")])])]),s("p",[e._v("其中，Header 是必需的，Body 和 Footer 可以省略。")]),e._v(" "),s("h4",{attrs:{id:"_1-header"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-header"}},[e._v("#")]),e._v(" 1> Header")]),e._v(" "),s("p",[e._v("Header 部分只有一行，包括俩个字段："),s("code",[e._v("type")]),e._v("（必需）和"),s("code",[e._v("subject")]),e._v("（必需）。")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("<type>: <subject>\n")])])]),s("p",[s("strong",[e._v("type")])]),e._v(" "),s("p",[e._v("type 用于说明 commit 的类别，可以使用如下类别：")]),e._v(" "),s("ul",[s("li",[e._v("feat：新功能（feature）")]),e._v(" "),s("li",[e._v("fix：修补bug")]),e._v(" "),s("li",[e._v("doc：文档（documentation）")]),e._v(" "),s("li",[e._v("style： 格式（不影响代码运行的变动）")]),e._v(" "),s("li",[e._v("refactor：重构（即不是新增功能，也不是修改bug的代码变动）")]),e._v(" "),s("li",[e._v("test：增加测试")]),e._v(" "),s("li",[e._v("chore：构建过程或辅助工具的变动")])]),e._v(" "),s("p",[s("strong",[e._v("subject")])]),e._v(" "),s("p",[e._v("subject 是 commit 目的的简短描述。")]),e._v(" "),s("ul",[s("li",[e._v("以动词开头，使用第一人称现在时，比如改变，而不是改变了。")]),e._v(" "),s("li",[e._v("结尾不加句号（。）")])]),e._v(" "),s("h4",{attrs:{id:"_2-body"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-body"}},[e._v("#")]),e._v(" 2> Body")]),e._v(" "),s("p",[e._v("Body 部分是对本次 commit 的详细描述，可以分成多行。下面是一个范例。")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("More detailed explanatory text, if necessary.  Wrap it to \nabout 72 characters or so. \n\nFurther paragraphs come after blank lines.\n\n- Bullet points are okay, too\n- Use a hanging indent\n")])])]),s("p",[e._v("**注意：**应该说明代码变动的动机，以及与以前行为的对比。")]),e._v(" "),s("h4",{attrs:{id:"_3-footer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-footer"}},[e._v("#")]),e._v(" 3> Footer")]),e._v(" "),s("p",[e._v("​\tFooter 部分应该包含：(1)Breaking Changes;  (2)关闭 issue；")]),e._v(" "),s("p",[e._v("​\t"),s("strong",[e._v("Breaking Changes")]),e._v("：")]),e._v(" "),s("p",[e._v("​\t如果当前代码与上一个版本不兼容，则 Footer 部分以"),s("code",[e._v("BREAKING CHANGE")]),e._v("开头，后面是对变动的描述、以及变动理由和迁移方法。这种使用较少，了解即可。")]),e._v(" "),s("p",[e._v("​\t"),s("strong",[e._v("Issue 部分：")])]),e._v(" "),s("ul",[s("li",[s("p",[e._v("通过 commit 关联 issue：")]),e._v(" "),s("p",[e._v("如果当前提交信息关联了某个 issue，那么可以在 Footer 部分关联这个 issue：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("issue #2\n")])])])]),e._v(" "),s("li",[s("p",[e._v("通过 commit 关闭 issue，当提交到"),s("strong",[e._v("默认分支")]),e._v("时，提交信息里可以使用 "),s("code",[e._v("fix/fixes/fixed")]),e._v(" ， "),s("code",[e._v("close/closes/closed")]),e._v(" 或者 "),s("code",[e._v("resolve/resolves/resolved")]),e._v("等关键词，后面再跟上 issue 号，这样就会关闭这个 issue：")])])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Closes #1\n")])])]),s("p",[e._v("​\t注意，如果不是提交到默认分支，那么并不能关闭这个 issue，但是在这个 issue 下面会显示相关的信息表示曾经想要关闭这个 issue，当这个分支合并到默认分支时，就可以关闭这个 issue 了。")]),e._v(" "),s("h4",{attrs:{id:"_4-例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-例子"}},[e._v("#")]),e._v(" 4> 例子")]),e._v(" "),s("p",[e._v("下面是一个完整的例子：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("feat: 添加了分享功能\n\n给每篇文章添加了分享功能\n\n- 添加分享到微信功能\n- 添加分享到朋友圈功能\n\nIssue #1, #2\nCloses #1\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);